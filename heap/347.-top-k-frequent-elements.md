# 347. Top K Frequent Elements

Given a non-empty array of integers, return the **k** most frequent elements.

**Example 1:**

```text
Input: nums = [1,1,1,2,2,3], k = 2
Output: [1,2]
```

**Example 2:**

```text
Input: nums = [1], k = 1
Output: [1]
```

### Solutionï¼š

Use Counter to get the frequency, then use Heap to  get top K elements

```python
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        c = collections.Counter(nums)
        h = []
        for i in c:
            heapq.heappush(h, [c[i], i])
            if len(h) > k:
                heapq.heappop(h)
        return [i[1] for i in h]
 
  #eaisier  
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        count = collections.Counter(nums)   
        return heapq.nlargest(k, count.keys(), key=count.get) 
```

### Solution2: QuickSelect

```python
def topKFrequent(nums, k):
    def quick_select(left, right):
        pivot = left
        l, r = left, right
        while l < r:
            while l < r and counts[r][1] <= counts[pivot][1]:
                r -= 1
            while l < r and counts[l][1] >= counts[pivot][1]:
                l += 1
            counts[l], counts[r] = counts[r], counts[l]
        counts[left], counts[l] = counts[l], counts[left]
        
        if l + 1 == k:
            return counts[:l+1]
        elif l + 1 < k:
            return quick_select(l + 1, right)
        else:
            return quick_select(left, l - 1)
    
    if not nums:
        return []    
    counts = collections.Counter(nums)       
    counts = list(counts.items())
    # Use quick select to get the top k counts.
    return [c[0] for c in quick_select(0, len(counts) - 1)]
```

